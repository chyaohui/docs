# C++编程基础知识点

- 基本介绍
- 第一个C++程序
- 名字空间
- 结构、联合、枚举
- 布尔类型
- 操作符别名
- 重载
- 缺省参数和哑元
- 内联
- 动态内存分配
- 引用
- 显式类型转换
- 来自C++社区的建议

## 一、基本介绍
### 1.C++的发展
- 80年代，贝尔实验室发明C with Classes   --- 本贾尼
- 1983年，正式命名为C++
- 1987年，GNU 推出C++的标准
- 1992年，微软、IBM推出推出他们的标准
- 1998年，ISO推出C++98标准
- 2003年，ISO推出C++03标准
- 2011年，ISO推出C++0x标准

### 2.C++和C语言的联系和区别
- C++包含整个C，C++是建立在C语言基础上的
- C++是强类型语言，比C语言对类型检查更加严格
- C++语言比C语言更加丰富
- C++支持面向对象(C++在宏观上面向对象，微观上是面向过程)
- C++支持运算符重载
- C++支持异常处理
- C++支持泛型编程(类型通用编程)

## 二、第一个C++程序
### 1.编译器g++
也可以用gcc，但要加上-lstdc++，g++其实就是gcc，gcc是一组程序，包括g++
```bash
$ gcc first.cpp -lstdc++
```
### 2.扩展名
常用扩展名：.cpp | .cc | .C | .cxx 推荐使用.cpp。也可以用.c，但是要加上-x c++    
```bash
$ gcc first.c -x c++
```
### 3.头文件
- 头文件位置: /usr/include/c++/4.x
- C++标准的头文件没有.h(与C的头文件没有本质区别): <iostream>
- C的头文件在C++中使用: <cstdio> <cstring> <ctime>
- 使用系统的头文件(非标C头文件): <pthread.h> <sys/types.h>

### 4.流操作
```cpp
cout << "Hello World.";
cin >> a;
// 也可以使用 scanf 和 printf
```
### 5.使用std空间下的相关数据
所有标准类型、对象和函数都位于`std`命名空间中
```cpp
std::cout       /* 标准输出对象 */
std::endl       /* 标准结束行的对象 */
std::cin        /* 标准的输入对象 */
std::cout << "hello world" << std::endl;
```
前面加空间名，是最根本的使用方式

### 6.使用声明的方式
使用声明的方式，能简化一个对象的使用
```cpp
using std::cout;
using std::endl;
cout << "hello world" << endl;
```
### 7.使用指令的方式
使用指令的方式，能简化多个对象的使用
```cpp
using namespace std;
cout << "hello world" << endl;
```
## 三、名字空间
### 1.为什么需要名字空间(why)
- 划分逻辑单元
- 避免名字冲突

### 2.什么是名字空间(what)
- 名字空间定义：把一组相关的数据，放入一个逻辑结构中统一管理
- 名字空间合并
- 声明定义分开
- 声明和定义分开后，编译器可以帮助捕捉到例如拼写错误或类型不匹配一类的错误

### 3.怎样用名字空间(how)
- 作用域限定符"::"
- 名字空间指令: 本空间中所有的标识符在该指令之后都可见(可以直接使用)
- 名字空间声明: 空间中声明过的标识符可以直接使用
- 注：局部、全局、名字空间(可以看作是作用域，限制变量、函数等的使用范围)

### 4.无名名字空间(匿名名字空间)
- 不属于任何有名名字空间的标识符，隶属无名命名空间
- 无名名字空间的成员，直接通过::访问(作用域限定符)
```cpp
 namespace{   /* 无名名字空间 */
    int a=15;
    ... ...
    void test(){
    }
}
::test();   /* 只有加上::才代表调用匿名空间的数据 */
```

### 5.名字空间嵌套与名字空间别名
- 内层标识符隐藏外层同名标识符
- 嵌套的名字空间需要逐层分解
- 可通过名字空间别名简化书写
- `namespace ns_four = ns1::ns2::ns3::ns4;`

## 四、C++结构体、联合、枚举
### 1.C++结构体
- 声明或定义结构型变量，可以省略`struct`关键字
- 可以定义成员函数，在结构体的成员函数中可以直接访问该结构体的成员变量，无需通过`.`或`->`
- 其实函数的存储区不在堆栈，仍在代码区，放在一块使用方便，将数据和操作封装
- C++中没有任何成员的结构体大小是1(C语言的是0)

### 2.C++联合
- 多个变量共享一段内存
- 声明或定义联合变量，可以省略`union`关键字
- 支持匿名联合
- C++匿名联合并不表示某种类型，用来表示联合中数据在内存中的布局形式
- 计算机(大端、小端序列，网络序列永远是大端序列)——小低低(计算机字节序)
```cpp
union var{
        char c[4];
        int i;
};
int main(){
        union var data;
        data.c[0] = 0x04; data.c[1] = 0x03;
        data.c[2] = 0x02; data.c[3] = 0x11; 
        printf("%x\n",data.i);
}     // 数组中下标低的，地址也低 结果为：11020304
```

### 3.C++枚举
- 声明或定义枚举型变量，可以省略`enum`关键字
- 枚举本质上是整数，所以枚举可以赋值给int，但C++类型检查严格，int值不能赋值枚举变量
