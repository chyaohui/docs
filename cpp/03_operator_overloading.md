> 操作符重载

* 操作符标记与操作符函数
* 典型双目操作符的重载
* 典型单目操作符的重载
* 输入输出操作符的重载
* 其它操作符的重载
* 不能被重载的操作符
* 操作符重载的局限性


## 一、操作符标记与操作符函数

* 操作符标记
    - 单目操作符：`-`、`++`、`--`、`*`、`->`、`!`、`~` 等
    - 双目操作符：`+`、`-`、`+=`、`-=`、`>>`、`<<`、`[]` 等
    - 三目操作符：`?:`
* 操作符函数
    - 在特定条件下，编译器有能力把一个由操作数和操作符共同组成的表达式，解释为一个全局或成员函数的调用，该全局函数或成员函数被称作操作符函数。
    - 通过定义操作符函数，可以实现针对自定义类型的运算法则，并使之内置类型一样参与各种表达式的运算
* 双目操作符表达式：`L#R`
    - 成员函数形式:L.operator# (R)。左操作数是调用对象，右操作数是参数对象
    - 全局函数形式:::operator# (L, R)。左操作数是第一参数，右操作数是第二参数
* 单目操作符表达式:#O/O#
    - 成员函数形式:O.operator# ()
    - 全局函数形式:::operator# (O)
* 三目操作符表达式:F#S#T
    - 无法重载


## 二、友元
* 可以通过friend关键字，把一个全局函数、另一个类的成员函数或者另一个类整体，声明为某个类的友元。
* 友元拥有访问授权类任何非公有成员的特权。
* 友元声明可以出现在授权类的公有、私有和保护等任何区域，且不受访问控制限定符的约束
* 友元不是成员，其作用域并不隶属于授权类，也不拥有授权类类型的 this 指针
* 操作符函数常被声明为其参数类型的友元


## 三、典型双目操作符的重载
* 运算类双目操作符： +、-、*、/ 等。
    - 左右操作数均可为左值或右值
    - 表达式的值（即返回值）为右值。
    - 成员函数的形式：
        ```
        class LEFT {
        const RESULT operator# (const RIGHT& right) const { ... }
        };
        ```
    - 全局形式：
        ```
        class RESULT operator# (const LEFT& left,const RIGHT& right) { ... }
        ```
    - 注： RESULT -- 返回值类型  LEFT -- 左操作数类型   RIGHT -- 右操作数类型
        ```
        const 的加与不加要根据实际情况。判断依据：是否可以作为右值或者左值(能否修改)
        ```

* 赋值类双目操作符：=、+=、-=、*=、/= 等
    - 右操作数为左值或右值，但左操作数必须是左值。
    - 表达式的值为左值，且为左操作数本身（而非副本）
    - 成员函数形式：
        ```
        class LEFT {
            LEFT& operator# (const RIGHT& right) { ... }
        };
        ```
    - 全局函数形式：
        ```cpp
        LEFT& operator# (LEFT& left,const RIGHT& right) { ... }
        ```

## 四、典型单目操作符的重载

* 运算类单目操作符：-、~、！等
    - 操作数为左值或右值
    - 表达式的值为右值
    - 成员函数形式：
    ```cpp
        class OPERAND {
            const RESULT operator# (void) const { ... }
        };
    ```
    - 全局函数形式：
    ```cpp
        const RESULT operator# (const OPERAND& operand) { ... }
    ```
* 前自增减类单目操作符：前++、前--
    - 操作数为左值
    - 表达式的值为左值，且为操作数本身（而非副本）
    - 成员函数形式：
    ```cpp
        class OPERAND {
          OPERAND& operator# (void) { ... }
        };
    ```
    - 全局函数形式：
    ```cpp
        OPERAND& operator# (OPERAND& operand) { ... }
    ```
* 后自增减类单目操作符：后++、后--
    - 操作数为左值
    - 表达式的值为右值，且为自增减以前的值
    - 成员函数形式
    ```cpp
        class OPERAND {
          const OPERAND operator# (int) { ... }
        };
    ```
    - 全局函数形式：
    ```cpp
        const OPERAND operator# (OPERAND& operand,int) { ... }
    ```
